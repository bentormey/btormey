<!DOCTYPE html>
<html>
<head>
  <title>Jonny</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://js.stripe.com/v3"></script>
</head>

<body>
  <!-- Image and text -->
  <nav class="navbar navbar-light bg-white">
    <a class="navbar-brand" href="#">
      <img src="https://d33wubrfki0l68.cloudfront.net/be8a7a96685247d244f3552a3c4623d4d49fb9ac/cf234/images/logo.jpg" width="30" height="30" class="d-inline-block align-top" alt="">
      Jonny
    </a>
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="https://www.benjamintormey.com">BenjaminTormey.com <span class="sr-only">(current)</span></a>
      </li>
    </ul>
  </nav>

    <!-- Create a button that your customers click to complete their purchase. Customize the styling to suit your branding. -->
    <button
      style="background-color:#6772E5;color:#FFF;padding:8px 12px;border:0;border-radius:4px;font-size:1em"
      id="checkout-button-plan_G66Q5KwwBBdnbw"
      role="link"
    >
      Checkout
    </button>

    <div id="error-message"></div>

    <script>
    (function() {
      var stripe = Stripe('pk_live_RenJHIAGvZ0JTk3DKEN3diCz');

      var checkoutButton = document.getElementById('checkout-button-plan_G66Q5KwwBBdnbw');
      checkoutButton.addEventListener('click', function () {
        // When the customer clicks on the button, redirect
        // them to Checkout.
        stripe.redirectToCheckout({
          items: [{plan: 'plan_G66Q5KwwBBdnbw', quantity: 1}],

          // Do not rely on the redirect to the successUrl for fulfilling
          // purchases, customers may not always reach the success_url after
          // a successful payment.
          // Instead use one of the strategies described in
          // https://stripe.com/docs/payments/checkout/fulfillment
          successUrl: 'https://benjamintormey.com/success',
          cancelUrl: 'https://benjamintormey.com/canceled',
        })
        .then(function (result) {
          if (result.error) {
            // If `redirectToCheckout` fails due to a browser or network
            // error, display the localized error message to your customer.
            var displayError = document.getElementById('error-message');
            displayError.textContent = result.error.message;
          }
        });
      });
    })();
    </script>
  
  </body>
</html>
